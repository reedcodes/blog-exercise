{%- from "post-meta.njk" import postMeta with context -%}

{%- macro postList(collection, size) -%}

{%- for post in collection -%}
	{%- set image = post.data.image -%}
	{%- set title = post.data.title -%}
	{%- set date = post.data.date -%}
	{%- set link = post.url -%}

	{%- if size and loop.index <= size -%}
		<article>{{- postMeta(image, title, date, link) -}}</article>
	{%- elseif not size -%}
		<article>{{- postMeta(image, title, date, link) -}}</article>
	{%- endif -%}

{%- endfor -%}

{%- endmacro -%}
